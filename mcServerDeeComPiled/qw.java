import com.google.common.collect.Iterables;
import com.google.common.collect.Lists;
import com.google.common.collect.Maps;
import com.mojang.logging.LogUtils;
import it.unimi.dsi.fastutil.ints.Int2ObjectMap;
import it.unimi.dsi.fastutil.ints.Int2ObjectMaps;
import it.unimi.dsi.fastutil.ints.Int2ObjectOpenHashMap;
import it.unimi.dsi.fastutil.objects.Object2IntMap;
import it.unimi.dsi.fastutil.objects.Object2IntOpenHashMap;
import java.util.List;
import java.util.Map;
import java.util.function.Function;
import javax.annotation.Nullable;
import org.slf4j.Logger;

public enum qw {
   a(-1, b().a(td.a, new qw.a().a(zm.class, zm::new))),
   b(
      0,
      b()
         .a(
            td.b,
            new qw.a()
               .a(tg.class, tg::new)
               .a(th.class, th::new)
               .a(ti.class, ti::new)
               .a(tj.class, tj::new)
               .a(tk.class, tk::new)
               .a(tl.class, tl::new)
               .a(tm.class, tm::new)
               .a(tn.class, tn::new)
               .a(to.class, to::new)
               .a(tp.class, tp::new)
               .a(tq.class, tq::new)
               .a(tr.class, tr::new)
               .a(ts.class, ts::new)
               .a(tt.class, tt::new)
               .a(tu.class, tu::new)
               .a(tv.class, tv::new)
               .a(tw.class, tw::new)
               .a(tx.class, tx::new)
               .a(ty.class, ty::new)
               .a(tz.class, tz::new)
               .a(ua.class, ua::new)
               .a(ub.class, ub::new)
               .a(uc.class, uc::new)
               .a(ud.class, ud::new)
               .a(ue.class, ue::new)
               .a(uf.class, uf::new)
               .a(ug.class, ug::new)
               .a(uh.class, uh::new)
               .a(ui.class, ui::new)
               .a(uj.class, uj::new)
               .a(uk.class, uk::new)
               .a(ul.class, ul::new)
               .a(um.class, um::new)
               .a(uo.class, uo::new)
               .a(up.class, up::new)
               .a(uq.class, uq::new)
               .a(ur.class, ur::new)
               .a(ut.class, ut::new)
               .a(uu.class, uu::new)
               .a(uv.class, uv::new)
               .a(uw.a.class, uw.a::b)
               .a(uw.b.class, uw.b::b)
               .a(uw.c.class, uw.c::b)
               .a(ux.class, ux::new)
               .a(uy.class, uy::new)
               .a(uz.class, uz::new)
               .a(va.class, va::new)
               .a(vb.class, vb::new)
               .a(vc.class, vc::new)
               .a(vd.class, vd::new)
               .a(ve.class, ve::new)
               .a(vf.class, vf::new)
               .a(vg.class, vg::new)
               .a(vh.class, vh::new)
               .a(vi.class, vi::new)
               .a(vj.class, vj::new)
               .a(vk.class, vk::new)
               .a(vl.class, vl::new)
               .a(vm.class, vm::new)
               .a(vn.class, vn::new)
               .a(vo.class, vo::new)
               .a(vp.class, vp::new)
               .a(vq.class, vq::new)
               .a(vr.class, vr::new)
               .a(vs.class, vs::new)
               .a(vt.class, vt::new)
               .a(vu.class, vu::new)
               .a(vv.class, vv::new)
               .a(vw.class, vw::new)
               .a(vx.class, vx::new)
               .a(vy.class, vy::new)
               .a(vz.class, vz::new)
               .a(wa.class, wa::new)
               .a(wb.class, wb::new)
               .a(wc.class, wc::new)
               .a(wd.class, wd::new)
               .a(we.class, we::new)
               .a(wf.class, wf::new)
               .a(wg.class, wg::new)
               .a(wh.class, wh::new)
               .a(wi.class, wi::new)
               .a(wj.class, wj::new)
               .a(wk.class, wk::new)
               .a(wl.class, wl::new)
               .a(wm.class, wm::new)
               .a(wn.class, wn::new)
               .a(wo.class, wo::new)
               .a(wp.class, wp::new)
               .a(wq.class, wq::new)
               .a(wr.class, wr::new)
               .a(ws.class, ws::new)
               .a(wt.class, wt::new)
               .a(wu.class, wu::new)
               .a(wv.class, wv::new)
               .a(ww.class, ww::new)
               .a(wx.class, wx::new)
               .a(wy.class, wy::new)
               .a(wz.class, wz::new)
               .a(xa.class, xa::new)
               .a(xb.class, xb::new)
               .a(xc.class, xc::new)
               .a(xd.class, xd::new)
               .a(xe.class, xe::new)
               .a(xf.class, xf::new)
               .a(xg.class, xg::new)
               .a(xh.class, xh::new)
               .a(xi.class, xi::new)
               .a(xj.class, xj::new)
         )
         .a(
            td.a,
            new qw.a()
               .a(xo.class, xo::new)
               .a(xp.class, xp::new)
               .a(xq.class, xq::new)
               .a(xr.class, xr::new)
               .a(xs.class, xs::new)
               .a(xt.class, xt::new)
               .a(xu.class, xu::new)
               .a(xv.class, xv::new)
               .a(xw.class, xw::new)
               .a(xx.class, xx::new)
               .a(xy.class, xy::new)
               .a(xz.class, xz::new)
               .a(ya.class, ya::new)
               .a(yb.class, yb::new)
               .a(yc.class, yc::new)
               .a(yd.class, yd::new)
               .a(ye.class, ye::new)
               .a(yf.class, yf::new)
               .a(yg.class, yg::new)
               .a(yh.class, yh::new)
               .a(yi.a.class, yi.a::b)
               .a(yi.b.class, yi.b::b)
               .a(yi.c.class, yi.c::b)
               .a(yi.d.class, yi.d::b)
               .a(yj.class, yj::new)
               .a(yk.class, yk::new)
               .a(yl.class, yl::new)
               .a(ym.class, ym::new)
               .a(yn.class, yn::new)
               .a(yo.class, yo::new)
               .a(yp.class, yp::new)
               .a(yq.class, yq::new)
               .a(yr.class, yr::new)
               .a(ys.class, ys::new)
               .a(yt.class, yt::new)
               .a(yu.class, yu::new)
               .a(yv.class, yv::new)
               .a(yw.class, yw::new)
               .a(yx.class, yx::new)
               .a(yy.class, yy::new)
               .a(yz.class, yz::new)
               .a(za.class, za::new)
               .a(zb.class, zb::new)
               .a(zc.class, zc::new)
               .a(zd.class, zd::new)
               .a(ze.class, ze::new)
               .a(zf.class, zf::new)
               .a(zg.class, zg::new)
               .a(zh.class, zh::new)
               .a(zi.class, zi::new)
               .a(zj.class, zj::new)
         )
   ),
   c(1, b().a(td.a, new qw.a().a(aah.class, aah::new).a(aag.class, aag::new)).a(td.b, new qw.a().a(aad.class, aad::new).a(aac.class, aac::new))),
   d(
      2,
      b()
         .a(td.b, new qw.a().a(zu.class, zu::new).a(zs.class, zs::new).a(zr.class, zr::new).a(zt.class, zt::new).a(zq.class, zq::new))
         .a(td.a, new qw.a().a(zx.class, zx::new).a(zy.class, zy::new).a(zw.class, zw::new))
   );

   private static final int e = -1;
   private static final int f = 2;
   private static final qw[] g = new qw[4];
   private static final Map<Class<? extends tc<?>>, qw> h = Maps.newHashMap();
   private final int i;
   private final Map<td, ? extends qw.a<?>> j;

   private static qw.b b() {
      return new qw.b();
   }

   private qw(int $$0, qw.b $$1) {
      this.i = $$0;
      this.j = $$1.a;
   }

   @Nullable
   public Integer a(td $$0, tc<?> $$1) {
      return ((qw.a)this.j.get($$0)).a($$1.getClass());
   }

   @ang
   public Int2ObjectMap<Class<? extends tc<?>>> a(td $$0) {
      Int2ObjectMap<Class<? extends tc<?>>> $$1 = new Int2ObjectOpenHashMap();
      qw.a<?> $$2 = (qw.a)this.j.get($$0);
      if ($$2 == null) {
         return Int2ObjectMaps.emptyMap();
      } else {
         $$2.b.forEach(($$1x, $$2x) -> $$1.put($$2x, $$1x));
         return $$1;
      }
   }

   @Nullable
   public tc<?> a(td $$0, int $$1, qx $$2) {
      return ((qw.a)this.j.get($$0)).a($$1, $$2);
   }

   public int a() {
      return this.i;
   }

   @Nullable
   public static qw a(int $$0) {
      return $$0 >= -1 && $$0 <= 2 ? g[$$0 - -1] : null;
   }

   public static qw a(tc<?> $$0) {
      return (qw)h.get($$0.getClass());
   }

   static {
      for(qw $$0 : values()) {
         int $$1 = $$0.a();
         if ($$1 < -1 || $$1 > 2) {
            throw new Error("Invalid protocol ID " + $$1);
         }

         g[$$1 - -1] = $$0;
         $$0.j.forEach(($$1x, $$2) -> $$2.a().forEach($$1xx -> {
               if (h.containsKey($$1xx) && h.get($$1xx) != $$0) {
                  throw new IllegalStateException("Packet " + $$1xx + " is already assigned to protocol " + h.get($$1xx) + " - can't reassign to " + $$0);
               } else {
                  h.put($$1xx, $$0);
               }
            }));
      }

   }

   static class a<T extends ra> {
      private static final Logger a = LogUtils.getLogger();
      final Object2IntMap<Class<? extends tc<T>>> b = ad.a(new Object2IntOpenHashMap(), $$0 -> $$0.defaultReturnValue(-1));
      private final List<Function<qx, ? extends tc<T>>> c = Lists.newArrayList();

      public <P extends tc<T>> qw.a<T> a(Class<P> $$0, Function<qx, P> $$1) {
         int $$2 = this.c.size();
         int $$3 = this.b.put($$0, $$2);
         if ($$3 != -1) {
            String $$4 = "Packet " + $$0 + " is already registered to ID " + $$3;
            a.error(LogUtils.FATAL_MARKER, $$4);
            throw new IllegalArgumentException($$4);
         } else {
            this.c.add($$1);
            return this;
         }
      }

      @Nullable
      public Integer a(Class<?> $$0) {
         int $$1 = this.b.getInt($$0);
         return $$1 == -1 ? null : $$1;
      }

      @Nullable
      public tc<?> a(int $$0, qx $$1) {
         Function<qx, ? extends tc<T>> $$2 = (Function)this.c.get($$0);
         return $$2 != null ? (tc)$$2.apply($$1) : null;
      }

      public Iterable<Class<? extends tc<?>>> a() {
         return Iterables.unmodifiableIterable(this.b.keySet());
      }
   }

   static class b {
      final Map<td, qw.a<?>> a = Maps.newEnumMap(td.class);

      public <T extends ra> qw.b a(td $$0, qw.a<T> $$1) {
         this.a.put($$0, $$1);
         return this;
      }
   }
}
